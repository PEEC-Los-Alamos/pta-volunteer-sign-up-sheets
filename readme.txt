=== PTA Volunteer Sign Up Sheets ===
Contributors: DBAR Productions
Donate link:https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=R4HF689YQ9DEE
Tags: Volunteer,Sign Up, Events
Requires at least: 3.3
Tested up to: 4.0
Stable tag: 1.6.3

Easily create and manage sign-up sheets for volunteer activities, while protecting the privacy of the volunteers' personal information.

== Description ==

**PLEASE DO NOT USE THE SUPPORT FORUM FOR FEATURE REQUESTS!!**
You may submit and vote for new features here:
https://stephensherrardplugins.com/support/forum/feature-requests/

This plugin allows you to easily create and manage volunteer sign up sheets for your school or organization. You can define four different types of events:  Single, Recurring, Multi-Day, or Ongoing events. Single events are for events that take place on just a single date. Recurring events are events that happen more than once (such as a weekly function), but have the same needs for each date. Multi-Day events are events that are spread across more than one day, but have different needs for each day. Ongoing events do not have any dates associated with them, but are for committees or helpers that are needed on an ongoing basis.

For each of these types of events, you can create as many tasks or items as needed. For each of these tasks/items, you can specify how many items or people are needed, a start and end time, the date (for multi-day events), and whether or not item details are needed (for example, if you want the volunteer to enter the type of dish they are bringing for a luncheon). The order of tasks/items can easily be sorted by drag and drop.

Each sign-up sheet can be set to visible or hidden, so that you can create sign-up sheets ahead of time, but only make them visible to the public when you are ready for them to start signing up. There is also a test mode which will only show sign-up sheets on the public side to admin users or those who you give the "manage_signup_sheets" capability. Everyone else will see a message of your choosing while you are in test mode. When not in test mode, admins and users with the "manage_signup_sheets" capability can still view hidden sheets on the public side (for testing those sheets without putting the whole system into test mode).

In the settings, you can choose to require that users be logged in to view or sign-up for any volunteer sign-up sheets, and pick the message they will see if they are not logged in. Even if you keep the sheets open to the public, no personal information is shown for any slots that have already been filled. Only a first name and last initial is shown for filled slots, along with any item descriptions. Contact info is only shown on the admin side.  Version 1.3 adds an option to simply show "Filled" for filled spots.

There is also a hidden spambot field to prevent signup form submission from spambots.

If a user is logged in when they sign up, the system will keep track of the user ID, and on the main volunteer sign-ups page, they will also see a list of items/tasks that they have signed up for, and it will give them a link to clear each sign up if they need to cancel or reschedule. If they are not logged in when they sign up, but they use the same email as a registered user, that sign-up will be linked to that user's account.

There is a shortcode for a main sign-up sheet page that will show a list of all active (and non-hidden) sign-up sheets, showing the number of open volunteer slots with links to view each individual sheet. Individual sheets have links next to each open task/item for signing up.  When signing up, if the user is already logged in, their name and contact info (phone and email) will be pre-filled in the sign-up page form if that info exists in the user's meta data. You can also enter shortcode arguments to display a specific sign-up sheet on any page.

There is a sidebar widget to show upcoming volunteer events and how many spots still need to be filled for each, linked to each individual sign-up sheet. You can choose whether or not to show Ongoing type events in the widget, and if they should be at the top or bottom of the list (since they don't have dates associated with them).

Admin users can view sign-ups for each sheet, and clear any spots with a simple link. Each sheet can also be exported to a CSV format file for easy import into Excel or other spreadsheet programs.

Committee/Event contact info can be entered for each sheet, or, if you are using the PTA Member Directory plugin, you can select one of the positions from the directory as the contact. When a user signs up, a confirmation email is sent to the user as well as a notification email to the contacts for that event.

Automatic Email reminders can be set for each sign-up sheet. You can specify the number of days before the event to send the reminder emails, and there can be two sets of reminders for each sheet (for example, first reminder can be sent 7 days before the event, and the second reminder can be sent the day before the event). You can set an hourly limit for reminder emails in case your hosting account limits the number of outgoing emails per hour.

Simple to use custom email templates for sign-up confirmations and reminders.

Features:

*	New features added in version 1.6 include the ability to allow duplicate signups on a per task basis, changing the label for the item details form field on a per task/item basis, as well as allowing volunteers to specify quanitites on a per task/item basis.
*   Easily create volunteer sign-up sheets with unlimited number of tasks/items for each
*	Supports Single, Recurring, Ongoing or Multi-Day Events
*  	All Sheets can be hidden from the public (visible only to logged in users)   
*   No volunteer last names or contact info are shown to the public. Default public view shows only first name and last name for filled spots.  Version 1.3 introduces an option to simply show "Filled" for filled spots.
*   Hidden spambot field helps prevent automatic spambot form submissions
*	Up to 2 automatic reminder emails can be set up at individually specified intervals for each sheet (e.g., 7 days and 1 day before event)
*   Shortcodes for all sheets, or use argument to show a specific sheet on a page
*   Widget to show upcoming events that need volunteers in page sidebars (with version 1.5, can specify a group in the Widget)
*   CSV Export for each sheet on admin side
*   Individual sheets can be set to hidden until you are ready to have people sign up (useful for testing individual sheets)
*   Test Mode for entire volunteer system, which displays a message of your choosing to the public while you test the system
*   "manage_signup_sheets" capability so you can set up other users who can create and manage sign-up sheets without giving them full admin level access.
*	Integration with the PTA Member Directory & Contact Form plugin to quickly specify contacts for each sign-up sheet, linked to the contact form with the proper recipient already selected. http://wordpress.org/plugins/pta-member-directory/
*	Use the free PTA Zilla Shortcodes extension to easily generate shortcodes with all possible arguments ( available at https://stephensherrardplugins.com )
*	Version 1.4 adds Wordpress Multisite compatibility
*	Version 1.4.2 adds Spanish translation by Simon Samson at http://sitestraduction.com -- half-price translation services for non-profits
*	Version 1.4.5 Includes French translation, and updated Spanish translation, by Simon Samson at http://sitestraduction.com

== Installation ==

Extract the zip file and just drop the contents in the wp-content/plugins/ directory of your WordPress installation and then activate the Plugin from Plugins page.

== Frequently Asked Questions ==

**Can this plugin do (insert a feature request here)?**
**Can you add (insert a feature request here)?**

PLEASE DO NOT USE THE SUPPORT FORUM FOR FEATURE REQUESTS!!

This plugin has a lot of options and features, but I have been getting overwhelmed with feature requests recently. This plugin already does MUCH more than I originally intended, and more than we needed for our own school PTA web site. I have created some extensions that I thought would be helpful to the largest number of people, which you can find at:
https://stephensherrardplugins.com

PLEASE USE THE FEATURE REQUEST FORUM TO REQUEST NEW FEATURES!!
https://stephensherrardplugins.com/support/forum/feature-requests/

**Is there any documentation or help on how to use this?**

Documentation can be found at:
https://stephensherrardplugins.com/docs/pta-volunteer-sign-up-sheets-documentation/

**How do I display the signup sheets?**

Use the shortcode [pta_sign_up_sheet] to display the sign-up sheets on a page. There are also shortcode arguments for id (specific sheet id), date (specific date), and list_title (change the title of the main list of signup sheets). To make generating shortcodes with arguments easier, download the free PTA Shortcodes plugin extension from: 
https://stephensherrardplugins.com

**Can signup sheets be assigned to and displayed by groups or categories?**

This was not something we needed for our own school PTA web site, so that wasn't part of the original plugin. However, since several people have asked about incorporating BuddyPress Groups in some way, I have created an extension to allow sheets to be assigned to groups. Groups can be created manually, or, if you are using BuddyPress, you can choose to import as many of the BuddyPress groups as you want. This is a paid extension that can be found at: https://stephensherrardplugins.com


== Screenshots ==

Screenshots and extended description can be found at:
https://stephensherrardplugins.com/pta-volunteer-sign-up-sheets/

Documentation can be found at:
https://stephensherrardplugins.com/docs/pta-volunteer-sign-up-sheets-documentation/


== Changelog ==
**Version 1.6.3**

* 	Fixed broken nonce check for visibility toggle on admin sheets list
*	Added Dutch translation
*	Additional filter hooks for extensions

**Version 1.6.2.2**

* 	Minor change to properly sort dates on sheet date/task list

**Version 1.6.2.1**

* 	Minor changes/fixes.
*	Added/Updated filters for all public side output text to allow easy changing of default text using the customizer extension, or by adding your own filter hooks in your theme's functions.php file.

**Version 1.6.2**

*	Added email notifications when a user clears themselves from a volunteer spot. There is now a custom email subject and email templated for these cleared signup emails in the email settings. These emails will be copied to the event chairs as well as the new global CC Email (see below) so that they will be immediately informed when someone clears themselves from a signup.
* 	Added CC Email in the Email Settings. Here you can specify an email address to CC for all signup notifications as well as when a user clears one of their signups. This email will be IN ADDITION to the chair contact emails you specify for each sign-up sheet. This was added so the admin or head volunteer coordinator can receive sign-up/clear notifications without having to enter their email for every sheet you add.
*	Fixed issue of Ongoing type events that others have signed up for showing up in user's list of signups
*	The "Disable Login Notices?" option in the main settings will now also turn off the "Please login..." message at the bottom of the main list of volunteer sheets. If you are not using user accounts for your site, you should probably disable these notices to avoid volunteers asking how to login.

**Version 1.6.1.1**

* 	Another Small logic fix to allow there to be only one contact name, but more than one contact email, for a sheet without getting the "No Event Chair contact info provided" message on the public side.

**Version 1.6.1**

* 	Small logic fix to make sure the PTA Member Directory is actually activated before trying to display contact info from the member directory. If you had integration features and Member Directory contact info set for a sheet, but then deactivated the PTA Member Directory, it would give you the message that No Event Chair contact info was provided, even if you type in a name and email on the edit sheet page.

**Version 1.6**

* 	New "Allow Duplicates" task checkbox field to allow more than one signup from the same user for a task. Set per task.
*	New "Enable Quantities" task checkbox field to allow volunteers to specify quantity of items they are bringing
*	New task field to enter label for "Needs Details" field of each task to prompt volunteer on what to enter
*	Updated email template tags for new fields and options
*	Added option to turn off the "strongly recommended" login notice on the sign-up page

**Version 1.5.6**

* 	Updated database table setup to fix an issue that could occur with null field values on some servers.

**Version 1.5.5**

* 	Renamed admin style sheet to avoid conflict with a theme that used the same name.

**Version 1.5.4**

* 	Changed how current time is retrieved in email reminders CRON functions, in case the server is in a different time zone than the Wordpress site is set to.  Current time is now taken from Wordpress site time.

**Version 1.5.3**

* 	Fixed bug with duplicate task signups check for recurring events

**Version 1.5.2**

* 	Fixed translation function for dates in widget
*	Added check to prevent duplicate signups for a task. Checks first and last name fields against other signups for same task.
*	Updated French translation

**Version 1.5.1**

* 	Fixed bad nonce checked that wouldn't allow you to clear a signup on admin side

**Version 1.5**

* 	Fixed additional validation fields to allow foreign language characters
*	Added additional nonce/security checks on admim side forms
*	Additional hooks and filters for extensions

**Version 1.4.7**

* 	Fixed text input validation to allow foreign language characters
*	Fixed display bug that tried to show a date for Ongoing event types on individual sheets

**Version 1.4.6**

* 	Changed the way the signup form is processed to prevent double sign-ups that can happen in rare cases with certain themes or plugins

**Version 1.4.5**

* 	Changed the way the signup input form and signup form error messages are displayed to fix issues with certain themes.
*	Includes French & Spanish translations by Simon Samson at http://sitestraduction.com

**Version 1.4.4**

* 	Fix corrupted directory structure in the repository

**Version 1.4.2**

*	Added option to append reminder emails content to admin notifications when reminder emails have been sent
*	Settings pages now include a link to the documentation at: https://stephensherrardplugins.com/docs/pta-volunteer-sign-up-sheets-documentation/
*	Several code fixes for translation
*	Includes Spanish translation by Simon Samson at http://sitestraduction.com -- half-price translation services for non-profits

**Version 1.4.1**

*	Remove some debug code accidentally left in the email function

**Version 1.4**

*	After a user signs up, save the firstname, lastname, and phone in user's meta if it doesn't exist so it will be pre-filled on future signups
*	Modified to work with Wordpress Multisite installations
*	Added reply-to email option for confirmation & reminder emails
*	Minor bug fixes and tweaks

**Version 1.3.4**

*	Tweak for admin side permissions

**Version 1.3.3**

*	Fixed bug dealing with sheet visibility & trash settings

**Version 1.3.2**

*	Patch for people with PHP versions < 5.3 who were getting fatal errors for str_getcsv function

**Version 1.3.1**

*	Small rework/fix to ensure reminder emails function is run every hour with the CRON job

**Version 1.3**

*	Added Wordpress editor for sheet details textarea to allow rich text formatting.
*	Added option to show "Filled" instead of the volunteer's first name and last initial for filled spots on a sign-up sheet.
*	Small change for compatibility with older PHP versions
*	Added hooks, filters, and CSS classes for easier extension & customizing
*	Additional translation coding prep

**Version 1.2.2**

*	First public release

== Additional Info ==

This plugin is a major fork and and almost a complete rewrite of the Sign-Up Sheets plugin by DLS software (now called Sign-Up Sheets Lite). We needed much more functionality than their plugin offered for our PTA web site, so I started with the Sign-Up Sheets plugin and added much more functionality to it, and eventually ended up rewriting quite a bit of it to fit our needs. If you need a much more simple sign-up sheets system, you may want to check out their plugin.

**PLEASE USE THE FEATURE REQUEST FORUM TO REQUEST NEW FEATURES!!**
https://stephensherrardplugins.com/support/forum/feature-requests/